<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html;charset=gb2312">
<!--把下面代码加到<head>与</head>之间-->
<style type="text/css">
body,html{padding:0;margin:0;text-align:center;font:normal 14px 'arial';}
#mainNavBar{width:100%;background:#999;padding:10px 0; z-index:1005;}
#nav{width:760px;height:30px;margin:0 auto; z-index:1005}
#nav ul{padding:0;margin:0;}
#nav ul li{position:relative;float:left;width:60px;height:30px;line-height:30px;overflow:hidden;list-style-type:none;}
#nav ul li a{display:block;color:#fff;text-decoration:none;}
#nav ul li a{display:block;color:#fff;text-decoration:none;}
#subNav{position:absolute;width:150px;top:30px;left:0px;padding:5px;background:#666;color:#fff;text-align:left;z-index:1005;}
#subNav a{text-decoration:none;font-weight:normal;display:block;}
#subNav a:hover{color:#f00;background:#f00;}
.title{
	display:block;
	position:absolute;
	top:0%;
	left:0%;

}
.all_over{
	display:none;
	position:absolute;
	top:47px;
	left:0%;
	width:100%;
	height:100%;
	background:black;
	opacity:0.8;
	-moz-opacity:0.8;
	filter:alpha(opacity=80);
	z-index:1001;
	
}
.permm{
	display:none;
	position:absolute;
	top:20%;
	left:10%;
	width:70%;
	height:70%;
	background:white;
	border: 10px solid lightblue;
	z-index:1002;
}
.close{
	display:none;
	position:absolute;
	top:0%;
	left:93.2%;
	width:60px;
	height:25px;
	background:blue;
	border: 2px solid lightblue;
	z-index 1003;
}
.post{
	display:none;
	position:absolute;
	top:86%;
	left:75%;
	width:60px;
	height:25px;
	background:blue;
	border: 1px solid lightblue;
	z-index 1003;
}

.cancle{
	display:none;
	position:absolute;
	top:86%;
	left:90%;
	width:60px;
	height:25px;
	background:blue;
	border: 1px solid lightblue;
	z-index 1003;
}
.addbook{
	display:none;
	position:absolute;
	top:20%;
	left:10%;
	width:70%;
	height:70%;
	background:white;
	border: 10px solid lightblue;
	z-index:1002;
}
.bookquery{
	display:none;
	position:absolute;
	top:20%;
	left:10%;
	width:70%;
	height:70%;
	background:white;
	border: 10px solid lightblue;
	z-index:1002;
	overflow: none;
}
.bookmod{
	display:none;
	position:absolute;
	top:20%;
	left:10%;
	width:70%;
	height:70%;
	background:white;
	border: 10px solid lightblue;
	z-index:1002;
	overflow: none;
}
.bookdelete{
	display:none;
	position:absolute;
	top:20%;
	left:10%;
	width:70%;
	height:70%;
	background:white;
	border: 10px solid lightblue;
	z-index:1002;
	overflow: none;
}
</style>
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript">
function changepass(){
        window.showModalDialog("/passwd?username={{user.username}}","","dialogWidth:360px;dialogHeight:240px");
}
function addbook(){
	window.showModalDialog("/addbook","","dialogWidth:360px;dialogHeight:240px");
}
function booklist(){
	window.showModalDialog("/booklist/?page=0","","dialogWidth:780px;dialogHeight:240px");
}
function bookmod(){
	window.showModalDialog("/bookmod/","","dialogWidth:800px;dialogHeight:240px");
}
function deletebook(){
	window.showModalDialog("/deletebook/","","dialogWidth:887px;dialogHeight:240px");
}
$(function(){
	$('#permission').click(function(){
		$('.all_over').css("display","block");
		$('.permm').css("display","block");
		$('.close').css("display","block");
		$('.post').css("display","block");
		$('.cancle').css("display","block");
	});
	$('.close').click(function(){
		$('.all_over').css("display","none");
		$('.permm').css("display","none");
		$('.close').css("display","none");
		$('.post').css("display","none");
		$('.addbook').css("display","none");
		$('.bookquery').css("display","none");
		$('.bookmod').css("display","none");
		$('.bookdelete').css("display","none");
	});
	$('.close').mouseover(function(){
		$('.close').css("background","lightblue");
	});
	$('.close').mouseout(function(){
		$('.close').css("background","blue");
	});
	$('.post').click(function(){
		var input=$('.permm>input');
		$.ajax({
			url:"/wocao.jsp/",
			type:"post",
			dataType:"json",
			async:false,
			data:{name:input.val()},
			success:function(data){
				alert(data);
			},
		})
	});
	$('.post').mouseover(function(){
		$('.post').css("background","lightblue");
	});
	$('.post').mouseout(function(){
		$('.post').css("background","blue");
	});
	$('#addbook').click(function(){
		$('.all_over').css("display","block");
		$('.addbook').css("display","block");
		$('.close').css("display","block");
		$('.post').css("display","block");
	});
	$('#bookquery').click(function(){
		$('.all_over').css("display","block");
		$('.bookquery').css("display","block");
		$('.close').css("display","block");
		$('.post').css("display","block");
	});

	$('#bookmod').click(function(){
		$('.all_over').css("display","block");
		$('.bookmod').css("display","block");
		$('.close').css("display","block");
		$('.post').css("display","block");
	});

	$('#bookdelete').click(function(){
		$('.all_over').css("display","block");
		$('.bookdelete').css("display","block");
		$('.close').css("display","block");
		$('.post').css("display","block");
	});
});
</script>
</head>
<body>
<div id="mainNavBar">
<div class="title">欢迎用户 <font color="red">{{user.username}}</font> 登录 ！</div>
<div id="nav">
<ul>
<li>
<a href="#">添加</a>
<div id="subNav">
<a id="addbook"  href="#">添加图书</a>
<a id="bookquery" href="#">查询图书</a>
</div>
</li>
<li>
<a href="#">编辑</a>
<div id="subNav">
<a id="bookmod" href="#">编辑图书</a>
<a id="bookdelete" href="#">删除图书</a>
</div>
</li>
<li>
<a href="#">管理</a>
<div id="subNav">
<a href="#" id="permission">权限管理</a>
<a href="#">更改用户密码</a>
<a OnClick="changepass();" href="#">修改密码</a>
<a href="/accounts/logout">退出</a>
</div>
</li>
</ul>
</div>
</div>
<div class="all_over"></div><div class="permm">测试:<input type="text" id="text"/><div class="close"><span style="font-size:16px; cursor:default;font-weight:bold">关 闭</span></div><div class="post"><span style="font-size:16px; cursor:default;font-weight:bold">提 交</span></div><div class="cancle"><span style="font-size:16px; cursor:default;font-weight:bold">取消</span></div><div class="addbook"><iframe id="iframe" align="center" src="/addbook/"  width="100%" height="100%" scrolling="no" style="border:none;"></iframe><div class="close"><span style="font-size:16px; cursor:default;font-weight:bold">关 闭</span></div></div><div class="bookquery"><iframe id="iframe" align="center" src="/booklist/?page=0"  width="800" height="350" scrolling="no" style="border:none;"></iframe><div class="close"><span style="font-size:16px; cursor:default;font-weight:bold">关 闭</span></div></div><div class="bookmod"><iframe align="center" src="/bookmod/"  width="800" height="300" scrolling="auto" style="border:none;"></iframe><div class="close"><span style="font-size:16px; cursor:default;font-weight:bold">关 闭</span></div></div><div class="bookdelete"><iframe align="center" src="/deletebook/"  width="900" height="260" scrolling="no" style="border:none;"></iframe><div class="close"><span style="font-size:16px; cursor:default;font-weight:bold">关 闭</span></div></div>
<script language="javascript">
var nav=document.getElementById("nav").getElementsByTagName("li");
for(i=0;i<nav.length;i++){
nav[i].onmouseover=function(){
this.style.fontWeight="bold";
this.style.overflow="visible";
this.style.background="#666666";
}
nav[i].onmouseout=function(){
this.style.fontWeight="normal";
this.style.background="#999999"
this.style.overflow="hidden";
}
}
var nav2=document.getElementById("subNav").getElementsByTagName("li");
for(i=0;i<nav2.length;i++){
nav2[i].onmouseover=function(){
this.style.fontWeight="bold";
this.style.overflow="visible";
this.style.background="#666666";
}
nav2[i].onmouseout=function(){
this.style.fontWeight="normal";
this.style.background="#999999"
this.style.overflow="hidden";
}
}
</script>
</form>
</body>
</html>
